!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.WMSCapabilities=e()}}(function(){return function e(r,t,n){function a(o,u){if(!t[o]){if(!r[o]){var d="function"==typeof require&&require;if(!u&&d)return d(o,!0);if(i)return i(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var S=t[o]={exports:{}};r[o][0].call(S.exports,function(e){var t=r[o][1][e];return a(t?t:e)},S,S.exports,e,r,t,n)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,r){"use strict";r.exports=e("./src/wms")},{"./src/wms":6}],2:[function(e,r){"use strict";r.exports={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12}},{}],3:[function(e,r){"use strict";r.exports=function(e){return void 0!==e}},{}],4:[function(e,r){"use strict";r.exports=function(e,r,t){return r in e?e[r]:e[r]=t}},{}],5:[function(e,r){"use strict";function t(e,r){return new Array(r+1).join(e)}var n=e("./isdef"),a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;r.exports={trim:function(e){return e.replace(a,"")},padNumber:function(e,r,a){var i=n(a)?e.toFixed(a):String(e),o=i.indexOf(".");return-1==o&&(o=i.length),t("0",Math.max(0,r-o))+i}}},{"./isdef":3}],6:[function(e,r){"use strict";function t(e){this.version=void 0,this._parser=new n,this._data=e}var n=e("./xml_parser"),a=e("./utils/isdef"),i=e("./node_types"),o=e("./utils/setifundefined"),u=e("./xsd"),d=e("./xlink"),s=n.makeObjectPropertySetter;t.prototype.data=function(e){return this._data=e,this},t.prototype.toJSON=function(e){return e=e||this._data,this.parse(e)},t.prototype.parse=function(e){return this._readFromDocument(this._parser.toDocument(e))},t.prototype._readFromDocument=function(e){for(var r=e.firstChild;r;r=r.nextSibling)if(r.nodeType==i.ELEMENT)return this.readFromNode(r);return null},t.prototype.readFromNode=function(e){this.version=e.getAttribute("version");var r=n.pushParseAndPop({version:this.version},t.PARSERS,e,[]);return r||null},t._readAttribution=function(e,r){return n.pushParseAndPop({},t.ATTRIBUTION_PARSERS,e,r)},t._readBoundingBox=function(e){var r=u.readDecimalString,t=[r(e.getAttribute("minx")),r(e.getAttribute("miny")),r(e.getAttribute("maxx")),r(e.getAttribute("maxy"))],n=[r(e.getAttribute("resx")),r(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:t,res:n}},t._readEXGeographicBoundingBox=function(e,r){var i=n.pushParseAndPop({},t.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS,e,r);if(!a(i))return void 0;var o=i.westBoundLongitude,u=i.southBoundLatitude,d=i.eastBoundLongitude,s=i.northBoundLatitude;return a(o)&&a(u)&&a(d)&&a(s)?[o,u,d,s]:void 0},t._readCapability=function(e,r){return n.pushParseAndPop({},t.CAPABILITY_PARSERS,e,r)},t._readService=function(e,r){return n.pushParseAndPop({},t.SERVICE_PARSERS,e,r)},t._readContactInformation=function(e,r){return n.pushParseAndPop({},t.CONTACT_INFORMATION_PARSERS,e,r)},t._readContactPersonPrimary=function(e,r){return n.pushParseAndPop({},t.CONTACT_PERSON_PARSERS,e,r)},t._readContactAddress=function(e,r){return n.pushParseAndPop({},t.CONTACT_ADDRESS_PARSERS,e,r)},t._readException=function(e,r){return n.pushParseAndPop([],t.EXCEPTION_PARSERS,e,r)},t._readCapabilityLayer=function(e,r){return n.pushParseAndPop({},t.LAYER_PARSERS,e,r)},t._readLayer=function(e,r){var i=r[r.length-1],d=n.pushParseAndPop({},t.LAYER_PARSERS,e,r);if(!a(d))return void 0;var s=u.readBooleanString(e.getAttribute("queryable"));a(s)||(s=i.queryable),d.queryable=a(s)?s:!1;var S=u.readNonNegativeIntegerString(e.getAttribute("cascaded"));a(S)||(S=i.cascaded),d.cascaded=S;var c=u.readBooleanString(e.getAttribute("opaque"));a(c)||(c=i.opaque),d.opaque=a(c)?c:!1;var p=u.readBooleanString(e.getAttribute("noSubsets"));a(p)||(p=i.noSubsets),d.noSubsets=a(p)?p:!1;var l=u.readDecimalString(e.getAttribute("fixedWidth"));a(l)||(l=i.fixedWidth),d.fixedWidth=l;var A=u.readDecimalString(e.getAttribute("fixedHeight"));a(A)||(A=i.fixedHeight),d.fixedHeight=A;for(var P=["Style","CRS","AuthorityURL"],f=0,g=P.length;g>f;f++){var E=P[f],_=i[E];if(a(_)){var R=o(d,E,[]);R=R.concat(_),d[E]=R}}for(var m=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"],f=0,g=m.length;g>f;f++){var E=m[f],R=d[E];if(!a(R)){var _=i[E];d[E]=_}}return d},t._readDimension=function(e){var r={name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),"default":e.getAttribute("default"),multipleValues:u.readBooleanString(e.getAttribute("multipleValues")),nearestValue:u.readBooleanString(e.getAttribute("nearestValue")),current:u.readBooleanString(e.getAttribute("current")),values:u.readString(e)};return r},t._readFormatOnlineresource=function(e,r){return n.pushParseAndPop({},t.FORMAT_ONLINERESOURCE_PARSERS,e,r)},t._readRequest=function(e,r){return n.pushParseAndPop({},t.REQUEST_PARSERS,e,r)},t._readDCPType=function(e,r){return n.pushParseAndPop({},t.DCPTYPE_PARSERS,e,r)},t._readHTTP=function(e,r){return n.pushParseAndPop({},t.HTTP_PARSERS,e,r)},t._readOperationType=function(e,r){return n.pushParseAndPop({},t.OPERATIONTYPE_PARSERS,e,r)},t._readSizedFormatOnlineresource=function(e,r){var n=t._readFormatOnlineresource(e,r);if(a(n)){var i=u.readNonNegativeIntegerString,o=[i(e.getAttribute("width")),i(e.getAttribute("height"))];return n.size=o,n}return void 0},t._readAuthorityURL=function(e,r){var n=t._readFormatOnlineresource(e,r);return a(n)?(n.name=e.getAttribute("name"),n):void 0},t._readMetadataURL=function(e,r){var n=t._readFormatOnlineresource(e,r);return a(n)?(n.type=e.getAttribute("type"),n):void 0},t._readStyle=function(e,r){return n.pushParseAndPop({},t.STYLE_PARSERS,e,r)},t._readKeywordList=function(e,r){return n.pushParseAndPop([],t.KEYWORDLIST_PARSERS,e,r)},t.NAMESPACE_URIS=[null,"http://www.opengis.net/wms"],t.PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Service:s(t._readService),Capability:s(t._readCapability)}),t.CAPABILITY_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Request:s(t._readRequest),Exception:s(t._readException),Layer:s(t._readCapabilityLayer)}),t.SERVICE_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Name:s(u.readString),Title:s(u.readString),Abstract:s(u.readString),KeywordList:s(t._readKeywordList),OnlineResource:s(d.readHref),ContactInformation:s(t._readContactInformation),Fees:s(u.readString),AccessConstraints:s(u.readString),LayerLimit:s(u.readNonNegativeInteger),MaxWidth:s(u.readNonNegativeInteger),MaxHeight:s(u.readNonNegativeInteger)}),t.CONTACT_INFORMATION_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{ContactPersonPrimary:s(t._readContactPersonPrimary),ContactPosition:s(u.readString),ContactAddress:s(t._readContactAddress),ContactVoiceTelephone:s(u.readString),ContactFacsimileTelephone:s(u.readString),ContactElectronicMailAddress:s(u.readString)}),t.CONTACT_PERSON_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{ContactPerson:s(u.readString),ContactOrganization:s(u.readString)}),t.CONTACT_ADDRESS_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{AddressType:s(u.readString),Address:s(u.readString),City:s(u.readString),StateOrProvince:s(u.readString),PostCode:s(u.readString),Country:s(u.readString)}),t.EXCEPTION_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Format:n.makeArrayPusher(u.readString)}),t.LAYER_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Name:s(u.readString),Title:s(u.readString),Abstract:s(u.readString),KeywordList:s(t._readKeywordList),CRS:n.makeObjectPropertyPusher(u.readString),EX_GeographicBoundingBox:s(t._readEXGeographicBoundingBox),BoundingBox:n.makeObjectPropertyPusher(t._readBoundingBox),Dimension:n.makeObjectPropertyPusher(t._readDimension),Attribution:s(t._readAttribution),AuthorityURL:n.makeObjectPropertyPusher(t._readAuthorityURL),Identifier:n.makeObjectPropertyPusher(u.readString),MetadataURL:n.makeObjectPropertyPusher(t._readMetadataURL),DataURL:n.makeObjectPropertyPusher(t._readFormatOnlineresource),FeatureListURL:n.makeObjectPropertyPusher(t._readFormatOnlineresource),Style:n.makeObjectPropertyPusher(t._readStyle),MinScaleDenominator:s(u.readDecimal),MaxScaleDenominator:s(u.readDecimal),Layer:n.makeObjectPropertyPusher(t._readLayer)}),t.ATTRIBUTION_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Title:s(u.readString),OnlineResource:s(d.readHref),LogoURL:s(t._readSizedFormatOnlineresource)}),t.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{westBoundLongitude:s(u.readDecimal),eastBoundLongitude:s(u.readDecimal),southBoundLatitude:s(u.readDecimal),northBoundLatitude:s(u.readDecimal)}),t.REQUEST_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{GetCapabilities:s(t._readOperationType),GetMap:s(t._readOperationType),GetFeatureInfo:s(t._readOperationType)}),t.OPERATIONTYPE_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Format:n.makeObjectPropertyPusher(u.readString),DCPType:n.makeObjectPropertyPusher(t._readDCPType)}),t.DCPTYPE_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{HTTP:s(t._readHTTP)}),t.HTTP_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Get:s(t._readFormatOnlineresource),Post:s(t._readFormatOnlineresource)}),t.STYLE_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Name:s(u.readString),Title:s(u.readString),Abstract:s(u.readString),LegendURL:n.makeObjectPropertyPusher(t._readSizedFormatOnlineresource),StyleSheetURL:s(t._readFormatOnlineresource),StyleURL:s(t._readFormatOnlineresource)}),t.FORMAT_ONLINERESOURCE_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Format:s(u.readString),OnlineResource:s(d.readHref)}),t.KEYWORDLIST_PARSERS=n.makeParsersNS(t.NAMESPACE_URIS,{Keyword:n.makeArrayPusher(u.readString)}),r.exports=t},{"./node_types":2,"./utils/isdef":3,"./utils/setifundefined":4,"./xlink":7,"./xml_parser":8,"./xsd":9}],7:[function(e,r){"use strict";var t="http://www.w3.org/1999/xlink";r.exports={readHref:function(e){return e.getAttributeNS(t,"href")}}},{}],8:[function(e,r){"use strict";function t(){this._parser=new DOMParser}var n=e("./utils/isdef"),a=e("./utils/setifundefined"),i=e("./node_types");t.prototype.toDocument=function(e){return this._parser.parseFromString(e,"application/xml")},t.getAllTextContent=function(e,r){return t.getAllTextContent_(e,r,[]).join("")},t.getAllTextContent_=function(e,r,n){if(e.nodeType===i.CDATA_SECTION||e.nodeType===i.TEXT)n.push(r?String(e.nodeValue).replace(/(\r\n|\r|\n)/g,""):e.nodeValue);else{var a;for(a=e.firstChild;a;a=a.nextSibling)t.getAllTextContent_(a,r,n)}return n},t.parseNode=function(e,r,t,a){var i;for(i=r.firstElementChild;i;i=i.nextElementSibling){var o=e[i.namespaceURI];if(n(o)){var u=o[i.localName];n(u)&&u.call(a,i,t)}}},t.makeParsersNS=function(e,r,n){return t.makeStructureNS(e,r,n)},t.makeStructureNS=function(e,r,t){var a,i,o=n(t)?t:{};for(a=0,i=e.length;i>a;++a)o[e[a]]=r;return o},t.makeObjectPropertySetter=function(e,r,t){return function(a,i){var o=e.call(n(t)?t:this,a,i);if(n(o)){var u=i[i.length-1],d=n(r)?r:a.localName;u[d]=o}}},t.makeObjectPropertyPusher=function(e,r,t){return function(i,o){var u=e.call(n(t)?t:this,i,o);if(n(u)){var d=o[o.length-1],s=n(r)?r:i.localName,S=a(d,s,[]);S.push(u)}}},t.makeArrayPusher=function(e,r){return function(t,a){var i=e.call(n(r)?r:this,t,a);if(n(i)){var o=a[a.length-1];o.push(i)}}},t.pushParseAndPop=function(e,r,n,a,i){return a.push(e),t.parseNode(r,n,a,i),a.pop()},r.exports=t},{"./node_types":2,"./utils/isdef":3,"./utils/setifundefined":4}],9:[function(e,r){"use strict";var t=e("./utils/isdef"),n=e("./utils/string"),a=e("./xml_parser"),i={};i.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema",i.readBoolean=function(e){var r=a.getAllTextContent(e,!1);return i.readBooleanString(r)},i.readBooleanString=function(e){var r=/^\s*(true|1)|(false|0)\s*$/.exec(e);return r?t(r[1])||!1:void 0},i.readDateTime=function(e){var r=a.getAllTextContent(e,!1),n=/^\s*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?))\s*$/,i=n.exec(r);if(i){var o=parseInt(i[1],10),u=parseInt(i[2],10)-1,d=parseInt(i[3],10),s=parseInt(i[4],10),S=parseInt(i[5],10),c=parseInt(i[6],10),p=Date.UTC(o,u,d,s,S,c)/1e3;if("Z"!=i[7]){var l="-"==i[8]?-1:1;p+=60*l*parseInt(i[9],10),t(i[10])&&(p+=60*l*60*parseInt(i[10],10))}return p}return void 0},i.readDecimal=function(e){var r=a.getAllTextContent(e,!1);return i.readDecimalString(r)},i.readDecimalString=function(e){var r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return r?parseFloat(r[1]):void 0},i.readNonNegativeInteger=function(e){var r=a.getAllTextContent(e,!1);return i.readNonNegativeIntegerString(r)},i.readNonNegativeIntegerString=function(e){var r=/^\s*(\d+)\s*$/.exec(e);return r?parseInt(r[1],10):void 0},i.readString=function(e){var r=a.getAllTextContent(e,!1);return n.trim(r)},i.writeBooleanTextNode=function(e,r){i.writeStringTextNode(e,r?"1":"0")},i.writeDateTimeTextNode=function(e,r){var t=new Date(1e3*r),n=t.getUTCFullYear()+"-"+n.padNumber(t.getUTCMonth()+1,2)+"-"+n.padNumber(t.getUTCDate(),2)+"T"+n.padNumber(t.getUTCHours(),2)+":"+n.padNumber(t.getUTCMinutes(),2)+":"+n.padNumber(t.getUTCSeconds(),2)+"Z";e.appendChild(a.DOCUMENT.createTextNode(n))},i.writeDecimalTextNode=function(e,r){var t=r.toPrecision();e.appendChild(a.DOCUMENT.createTextNode(t))},i.writeNonNegativeIntegerTextNode=function(e,r){var t=r.toString();e.appendChild(a.DOCUMENT.createTextNode(t))},i.writeStringTextNode=function(e,r){e.appendChild(a.DOCUMENT.createTextNode(r))},r.exports=i},{"./utils/isdef":3,"./utils/string":5,"./xml_parser":8}]},{},[1])(1)});